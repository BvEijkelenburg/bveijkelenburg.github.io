import{l as t,h as e,j as r,k as n,s as a,a as i,m as o,n as s}from"./core-jf_CmEZJ.js";const p=s("py-game"),c='\nimport builtins\ndef input(prompt=""):\n    import js\n    return js.prompt(prompt)\n\nbuiltins.input = input\ndel builtins\ndel input\n';let l=!0;const m={main:{onReady:async(r,s)=>{l&&(l=!1,console.warn("⚠️ EXPERIMENTAL `py-game` FEATURE"));let m={};if(s.hasAttribute("config")){const a=s.getAttribute("config"),{json:i,toml:o,text:c,url:l}=await n(a);if(i)m=JSON.parse(c);else if(o){const{parse:t}=await import("./toml-BLBSZ43A.js");m=t(c)}if(m.packages){await r.interpreter.loadPackage("micropip");const t=r.interpreter.pyimport("micropip");await t.install(m.packages,{keep_going:!0}),t.destroy()}await((r,...n)=>t(e.get(r),...n))("py-game",p,r.interpreter,m,l?new URL(l,location.href).href:location.href)}r.interpreter.registerJsModule("_pyscript",{PyWorker(){throw new Error("Unable to use PyWorker in py-game scripts")},js_import:(...t)=>Promise.all(t.map((t=>import(t)))),get target(){return s.id}}),await r.interpreter.runPythonAsync(a),r.interpreter.runPython(c);let g=i(s.textContent);s.src&&(g=await fetch(s.src).then(o));const u=s.getAttribute("target")||"canvas",y=document.getElementById(u);r.interpreter.canvas.setCanvas2D(y);const f=new CustomEvent("py-game",{bubbles:!0,cancelable:!0,detail:{canvas:y,code:g,config:m,wrap:r}});s.dispatchEvent(f),f.defaultPrevented||await r.interpreter.runPythonAsync(g)}}};r("py-game",{config:{packages:["pygame-ce"]},configURL:new URL("./config.txt",location.href).href,interpreter:"pyodide",env:"py-game",hooks:m});export{c as inputPatch};
//# sourceMappingURL=py-game-BZCuFCKW.js.map
